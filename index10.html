<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>D3 Tutorial</title>
        <script type="text/javascript" src="https://d3js.org/d3.v7.js"></script>
    </head>
    <title>Lesson 10 - Loading External Data</title>
    <body>
        

        <script>
            // d3.json or d3.csv is actually a Promise that must be followed by .then(
            d3.csv("./data/mydata.csv").then(function (data) { 
                //console.log(data);
                let canvas = d3.select("body")
                    .append("svg")
                    .attr("width", 500)
                    .attr("height", 500)
                
                canvas.selectAll("rect")
                    .data(data)
                    .enter()
                        .append("rect")
                        .attr("width", function (d) { return d.age * 10; })
                        .attr("height", 48)
                        .attr("y", function (d, i) { return i * 50; })
                        .attr("fill", "blue");

                canvas.selectAll("text")
                    .data(data)
                    .enter()
                        .append("text")
                        .attr("fill", "white")
                        .attr("y", function (d, i) { return i * 50 + 24; })
                        .text(function (d) { return d.name; })
                

            });
            
        </script>
        
    </body>
</html>